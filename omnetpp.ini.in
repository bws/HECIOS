# This file is shared by all PFS simulations
#
# General Settings
#
[General]
preload-ned-files = @@INSTALL_DIR@/lib/ned/hecios_ned.lst
sim-time-limit = 10000s
network = PalmettoMyri10G

#
# Environment settings
#
include @INSTALL_DIR@/ini/global_env.ini

#
# Output settings
#
include @INSTALL_DIR@/ini/global_out_vectors.ini

#
# Run definitions
#
include @INSTALL_DIR@/ini/global_run_configs.ini

#
# Simulation parameters
#
[Parameters]
include @INSTALL_DIR@/ini/palmetto_static_params.ini
include @INSTALL_DIR@/ini/palmetto_myri10g.ini

###############################################################################
#
# Settings for the Beowulf Cluster configuration
#
###############################################################################
**.numCPUNodes = 1
**.numIONodes = 1
**.cpun[*].numProcs = 8

###############################################################################
#
# Settings for the client/end user application
#
#   Note that in the UMD trace filename, "%r" will be replaced with the 
#   application's process rank.
#
###############################################################################
**.mpi.IOApplicationType = "PHTFIOApplication"
**.mpi.app.disableCPUPhase = true
**.mpi.app.traceFile = ""
#**.mpi.app.traceFile = "/data/traces/phtf/mpi-io-test_64p"
#**.mpi.app.traceFile = "/data/traces/phtf/mpi-io-test_128p"
#**.mpi.app.traceFile = "/data/traces/phtf/mpi-io-test_256p"
#**.mpi.app.traceFile = "/data/traces/phtf/flash-io_512p"

###############################################################################
#
# MPI-IO Cache settings
#
###############################################################################
**.middlewareCacheType = "NoMiddlewareCache"
#**.cpun[*].process[*].mpi.middlewareCacheType = "DirectPagedMiddlewareCache"
#**.cpun[*].process[*].mpi.middlewareCacheType = "PagedMiddlewareCacheMesi"
#**.cpun[*].process[*].mpi.middlewareCacheType = "PagedMiddlewareCacheWithTwinNoBlockIndexed"
#**.cpun[*].process[*].mpi.middlewareCacheType = "PagedMiddlewareCacheWithTwin"
#**.cpun[*].process[*].mpi.middlewareCacheType = "SharedPagedMiddlewareCacheWithTwinNoBlockIndexed"
#**.cpun[*].process[*].mpi.middlewareCacheType = "SharedDirectPagedMiddlewareCache"
#**.cpun[*].process[*].mpi.middlewareCacheType = "SharedPagedMiddlewareCacheWithTwin"
**.cpun[*].process[*].mpi.cache.pageCapacity = 16
**.cpun[*].process[*].mpi.cache.pageSize = 32768

# Note we are assuming we can copy memory at 4GB/s (a reasonable estimate)
**.cpun[*].process[*].mpi.cache.byteCopyTime = .00000000023283064365

###############################################################################
#
# Parallel File System Client Configuration settings
#
###############################################################################
**.fsClient.useCollectiveCreate = true
**.fsClient.useCollectiveGetAttr = true
**.fsClient.useCollectiveRemove = true
